<h2 mat-dialog-title>Publicacion</h2>
<mat-dialog-content class="mat-typography">
  <div class="row">
    <div class="col-12">
      <mat-form-field class="example-full-width">
        <mat-label>Favorite food</mat-label>
        <input matInput placeholder="Ex. Pizza" value="Sushi" />
      </mat-form-field>
    </div>
    <div class="col-12">
      <mat-form-field class="example-full-width">
        <mat-label>Leave a comment</mat-label>
        <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
      </mat-form-field>
    </div>
    <div class="col-12">
      <div *ngFor="let progressInfo of progressInfos" class="mb-2">
        <span>{{ progressInfo.fileName }}</span>
        <div class="progress">
          <div
            class="progress-bar progress-bar-info progress-bar-striped"
            role="progressbar"
            attr.aria-valuenow="{{ progressInfo.value }}"
            aria-valuemin="0"
            aria-valuemax="100"
            [ngStyle]="{ width: progressInfo.value + '%' }"
          >
            {{ progressInfo.value }}%
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-8">
          <label class="btn btn-default p-0">
            <input
              type="file"
              accept="image/*"
              multiple
              (change)="selectFiles($event)"
            />
          </label>
        </div>

        <div class="col-4"></div>
      </div>
      <p>tem:{{ previews.length }}</p>
      <div>
        <img *ngFor="let preview of previews" [src]="preview" class="preview" />
      </div>

      <div
        *ngIf="message.length"
        class="alert alert-secondary my-3"
        role="alert"
      >
        <ul *ngFor="let msg of message; let i = index">
          <li>{{ msg }}</li>
        </ul>
      </div>

      <div class="card mt-3">
        <div class="card-header">List of Images</div>
        <ul
          class="list-group list-group-flush"
          *ngFor="let image of imageInfos | async"
        >
          <li class="list-group-item">
            <p>
              <a href="{{ image.url }}">{{ image.name }}</a>
            </p>
            <img src="{{ image.url }}" alt="{{ image.name }}" height="80px" />
          </li>
        </ul>
      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-button [mat-dialog-close]="true" cdkFocusInitial>Install</button>
</mat-dialog-actions>
