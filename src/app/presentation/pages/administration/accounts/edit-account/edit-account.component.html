<h2 mat-dialog-title>Edicion Cuenta</h2>
<mat-dialog-content>
  @if (account.funcionario) {
  <div class="p-3 my-2">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0">
        <img
          src="../../../../../../assets/img/account.png"
          style="width: 40px"
        />
      </div>
      <div class="flex-grow-1 ms-3">
        <div class="row">
          <div class="col-12">{{ account.fullnameManager() }}</div>
          <div class="col-12">{{ account.jobtitleManager() }}</div>
        </div>
      </div>
      <div class="ms-auto">
        <button
          mat-mini-fab
          color="primary"
          aria-label="Example icon button with a menu icon"
        >
          <mat-icon>menu</mat-icon>
        </button>
      </div>
    </div>
  </div>
  } @else {
  <server-select-search
    [placeholder]="'Seleccione una dependencia'"
    [elements]="[]"
  />
  }
  <!-- <dl class="row">
    <dt class="col-sm-2">Dependencia:</dt>
    <dd class="col-sm-10">{{ account.dependencia.nombre }}</dd>

    <dt class="col-sm-3">Term</dt>
    <dd class="col-sm-9">
      <p>Definition for the term.</p>
      <p>And some more placeholder definition text.</p>
    </dd>

    <dt class="col-sm-3">Another term</dt>
    <dd class="col-sm-9">
      This definition is short, so no extra paragraphs or anything.
    </dd>

    <dt class="col-sm-3 text-truncate">Truncated term is truncated</dt>
    <dd class="col-sm-9">
      This can be useful when space is tight. Adds an ellipsis at the end.
    </dd>

    <dt class="col-sm-3">Nesting</dt>
    <dd class="col-sm-9">
      <dl class="row">
        <dt class="col-sm-4">Nested definition list</dt>
        <dd class="col-sm-8">
          I heard you like definition lists. Let me put a definition list inside
          your definition list.
        </dd>
      </dl>
    </dd>
  </dl> -->

  <form [formGroup]="FormAccount">
    <div class="row">
      <div class="col-sm-6">
        <mat-form-field>
          <mat-label>Login</mat-label>
          <input formControlName="login" matInput />
        </mat-form-field>
      </div>
      <div class="col-sm-6">
        <mat-form-field>
          <mat-label>Permisos</mat-label>
          <mat-select formControlName="rol">
            <mat-option *ngFor="let rol of roles()" [value]="rol._id">
              {{ rol.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      @if(FormAccount.get('password')){
      <div class="col-sm-6">
        <mat-form-field>
          <mat-label>Password</mat-label>
          <input matInput formControlName="password" />
        </mat-form-field>
      </div>
      }
      <div class="col-sm-6">
        <mat-checkbox
          [checked]="updatePassword"
          (change)="togglePassword($event.checked)"
        >
          Actualizar contrase√±a
        </mat-checkbox>
      </div>
    </div>
  </form>


  
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-raised-button color="warn" mat-dialog-close>Cancelar</button>
  <button
    mat-raised-button
    color="primary"
    [disabled]="FormAccount.invalid"
    (click)="save()"
  >
    Guardar
  </button>
</mat-dialog-actions>
